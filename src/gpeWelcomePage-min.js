"use strict";const gpeABOUTCARDDIV="gpewp_topcontainer_upper",gpeUSRMAINDIV="USR-right",gpeUSRCONTENTDIV="USR-content",gpeUSRLEFTDIV="USR-left",gpeDEMOPERSONADIV="demopersona",gpeDEMOMODULEDIV="demomodules",gpeDEMONAMEDIV="demousername",gpeTARGETNAVDIV="gpewp_topcontainer_nav",gpeDEMOROLE=getDemoRole(document.getElementById("demopersona").getAttribute("demopersona")),gpeDEMMOMODULES=getDemoModules(document.getElementById("demomodules").getAttribute("demomodules")),gpeDEMOUNAME=document.getElementById("demousername").getAttribute("demousername").split(";"),gpePRIMARYBGCSS=$(".c-nav-user").css("background-color");var meta=document.createElement("meta");meta.name="viewport",meta.content="width=device-width, initial-scale=1.0",document.getElementsByTagName("head")[0].appendChild(meta);const approvalURLs={training:{url:"/reports/trackemployee/TrackEmpRequest.aspx",icon:"gpe-appr-training",imgname:"appr_training_002.png",title:{"en-US":"Training Request","en-UK":"Training Request","de-DE":"Schulungsanfrage"}},goals:{url:"/EPM/Goals/PendingGoals.aspx?tab_page_id=-580170",icon:"gpe-appr-goals",imgname:"appr_goals_002.png",title:{"en-US":"Goal Request","en-UK":"Goal Request","de-DE":"Antrag auf Zielgenehmigung"}},feedback:{url:"/Social/SocialFeedback/FeedbackRequests.aspx",icon:"gpe-appr-feedback",imgname:"appr_feedback_002.png",title:{"en-US":"Feedback Request","en-UK":"Feedback Request","de-DE":"Feedback-Anfrage"}},connections:{url:"/phnx/driver.aspx?routename=Social/UniversalProfile/PendingConnections",icon:"gpe-appr-connection",imgname:"appr_connection_002.png",title:{"en-US":"Connection Request","en-UK":"Connection Request","de-DE":"Verbindungsanfrage"}},formapproval:{url:"../phnx/driver.aspx?routename=Social/UniversalProfile/Requests",icon:"gpe-appr-form",imgname:"appr_form_002.png",title:{"en-US":"Form Approval","en-UK":"Form Approval","de-DE":"Formulargenehmigung"}},compensation:{url:"/EPM/Compensation/User/ApprovalsList.aspx",icon:"gpe-appr-form",imgname:"appr_comp_002.png",title:{"en-US":"Compensation Plan","en-UK":"Compensation Plan","de-DE":"Kompensationsplan"}}};var cs_DashboardDetailsArray={1:{type:"pie",indexAxis:"",scale:{xdisplay:!1,ydisplay:!1}},2:{type:"bar",indexAxis:"y",scale:{xdisplay:!0,ydisplay:!0}},3:{type:"bar",indexAxis:"x",scale:{xdisplay:!0,ydisplay:!0}},4:{type:"line",indexAxis:"",scale:{xdisplay:!0,ydisplay:!0}},reports:{2:{width:6},3:{width:3},4:{width:3},7:{width:3},8:{width:3},10:{width:3},11:{width:3},12:{width:3},13:{width:3},14:{width:3},15:{width:3},16:{width:3},17:{width:3},18:{width:3},19:{width:3},22:{width:3},23:{width:3},24:{width:3},25:{width:3},26:{width:3},27:{width:3},28:{width:3},29:{width:3},30:{width:3},31:{width:3},32:{width:3},36:{width:3},38:{width:3},41:{width:3},42:{width:3},43:{width:3},44:{width:3},46:{width:3},47:{width:6},48:{width:3},49:{width:3},50:{width:3}}};function getDemoRole(e){return"HRM"==e.substr(0,3)?"HRD":""==e.substr(0,3)?"USR":e.substr(0,3)}function getDemoModules(e){return e.match(/.{1,3}/g)}function getAccessDetails(e){let t=[];var a=[];for(var n in e)$("a[id*='headerResponsive_responsiveNav_rptMenu_'][href*='"+e[n].url+"']").text((function(){a={id:e[n].title,title:$(this).text(),url:$(this).attr("href"),icon:e[n].icon,module:e[n].module,quicklinkPrio:e[n].quicklinkPrio,widgetPrio:e[n].widgetPrio},t[n]=a}));return t}function injectVariables(e,t){return Object.entries(e).reduce(((e,t)=>{const[a,n]=t,s=new RegExp(`\\\${${a}}`,"g");return e.replace(s,n)}),t)}function multiSort(e,t={}){const a=Object.keys(t);if(!a.length)return e;for(let e in t)t[e]="desc"===t[e]||-1===t[e]?-1:"skip"===t[e]||0===t[e]?0:1;const n=(e,t,a)=>(a=null!==a?a:1,e===t?0:e>t?a:-1*a);return e.sort(((e,s)=>{let i=0,r=0;for(;0===i&&r<a.length;){const l=a[r];if(l){const a=t[l];i=n(e[l],s[l],a),r++}}return i}))}function buildNav(e,t,a){if(document.getElementById("framework-oldnav-home"))return!0;{const n=JSON.parse(sessionStorage.csCustomLocale);let s=document.createElement("nav");s.className="header__nav header__nav--custom";let i=document.createElement("a");i.className="nav-link--custom text-uppercase text-no-underline active",i.setAttribute("title","Home"),i.setAttribute("id","framework-oldnav-home"),i.innerHTML="",s.appendChild(i),document.getElementById("ctl00_masterPageBody").before(s),$("a[id*='header_headerResponsive_lnkNavBar'] i").replaceWith($("img[id*='header_headerResponsive_responsiveNav_imgPhoto']").clone());let r=document.createElement("ul");r.className="nav nav-tabs trq-tab-group ng-star-inserted",r.setAttribute("id","gpewp_nav"),r.setAttribute("role","tablist"),r.setAttribute("_ngcontent-nml-c325","");let l=document.createElement("li");l.className="trq-tab-group-item ng-star-inserted",l.setAttribute("role","presentation"),l.setAttribute("_ngcontent-nml-c325",""),l.setAttribute("trqid","group-item"),l.setAttribute("trqiduseparent","true");let o=document.createElement("a");o.className="trq-tab-link--flat ng-star-inserted",o.setAttribute("id","nav-USR-tab"),o.setAttribute("data-bs-toggle","tab"),o.setAttribute("data-bs-target","#nav-USR"),o.setAttribute("type","button"),o.setAttribute("role","tab"),o.setAttribute("aria-controls","nav-USR"),o.setAttribute("aria-selected","true"),o.setAttribute("_ngcontent-nml-c376",""),o.innerHTML=n[0].topNavigationTitle.USR[t],l.appendChild(o);let d=0;switch("HRM"==e&&(e="HRD"),e){case"USR":let n=document.getElementById("nav-USR");n.classList.add("show"),n.classList.add("active"),o.classList.add("active");break;case"REC":case"MGR":case"HRD":case"INS":case"ADM":buildExtendedModuleWidget(a,e),d=buildExtraNavItem(e,t,"tab");let s=document.getElementById("nav-"+e);s.classList.add("show"),s.classList.add("active");break}if(r.appendChild(l),0!=d&&r.appendChild(d),"ok"==getApprovalDetails_v2(approvalURLs,sessionStorage.csCulture,gpeDEMOROLE)){let e=buildExtraNavItem("APPROVALS",t,"modal");r.appendChild(e)}let c=document.createElement("nav");c.className="profile-nav trq-mb-3 trq-bg-white trq-shadow-bottom-lg ng-star-inserted",c.setAttribute("_ngcontent-nml-c376",""),c.setAttribute("id","profile-tabs");let u=document.createElement("trq-tab-group");u.className="trq-tab-group",u.setAttribute("_ngcontent-nml-c376",""),u.setAttribute("_nghost-nml-c325","");let m=document.createElement("trq-scroller");m.className="trq-scroller--flat trq-scroller__container ng-star-inserted",m.setAttribute("_ngcontent-nml-c325",""),m.setAttribute("trqid",""),m.setAttribute("trqiduseparent","true"),m.setAttribute("_nghost-nml-c320",""),m.setAttribute("id","profile-tabs-trq-scroller");let p=document.createElement("div");p.className="trq-scroller",p.setAttribute("_ngcontent-nml-c320","");let h=document.createElement("div");h.className="trq-scroller__list",h.setAttribute("style","height: 50px;");let g=document.createElement("div");return g.className="trq-scroller__list__track",g.setAttribute("style","position: relative;"),g.appendChild(r),h.appendChild(g),p.appendChild(h),m.appendChild(p),u.appendChild(m),c.appendChild(u),document.getElementById(gpeTARGETNAVDIV).innerHTML=c.outerHTML,c}}function buildExtraNavItem(e,t,a){const n=JSON.parse(sessionStorage.csCustomLocale);var s=document.createElement("li");s.className="trq-tab-group-item ng-star-inserted",s.setAttribute("role","presentation"),s.setAttribute("_ngcontent-nml-c325",""),s.setAttribute("trqid","group-item"),s.setAttribute("trqiduseparent","true");var i=document.createElement("a");return i.className="trq-tab-link--flat ng-star-inserted","tab"==a&&i.classList.add("active"),i.setAttribute("id","nav-"+e+"-tab"),i.setAttribute("data-bs-toggle",a),i.setAttribute("data-bs-target","#nav-"+e),i.setAttribute("type","button"),i.setAttribute("role","tab"),i.setAttribute("aria-controls","nav-"+e),i.setAttribute("aria-selected","false"),i.setAttribute("_ngcontent-nml-c376",""),i.innerHTML=n[0].topNavigationTitle[e][t],s.appendChild(i),s}async function buildOnbWidget(e,t){if("ONB"==e){const e=JSON.parse(sessionStorage.csCustomLocale);$(".gpewp_USR").css("grid-template-columns","1fr"),$(".gpewp_USR").css("grid-template-areas","gpewp_USR-right");let a=document.createElement("div");a.className="onbwrapper";let n=document.createElement("div");n.className="onbheader";let s=document.createElement("h5");s.innerHTML=e[0].onboarding[t].headertitle;let i=document.createElement("p");i.innerHTML=e[0].onboarding[t].headertext;let r=document.createElement("div");r.className="video";let l=document.createElement("video");l.setAttribute("width","70%"),l.setAttribute("height","420"),l.setAttribute("controls","");let o=document.createElement("source");o.setAttribute("src",e[0].onboarding[t].videourl),o.setAttribute("type","video/mp4"),l.appendChild(o),r.appendChild(l),n.appendChild(s),n.appendChild(i),n.appendChild(r);let d=document.createElement("div");d.className="onbProcess";let c=document.createElement("h5");c.className="processtitle",c.innerHTML=e[0].onboarding[t].onbprocess.title;let u=document.createElement("div");u.className="processdesc";let m=document.createElement("ol");m.className="list";for(let a in e[0].onboarding[t].onbprocess.textItem){let n=document.createElement("li");n.className="item";let s=document.createElement("h2");s.className="headline",s.innerHTML=e[0].onboarding[t].onbprocess.textItem[a].headline;let i=document.createElement("span");i.innerHTML=e[0].onboarding[t].onbprocess.textItem[a].text;let r=document.createElement("div");r.className="resourceTitle",r.innerHTML="<br>"+e[0].onboarding[t].onbprocess.resourceTitle;let l=document.createElement("ul");l.className="resList";for(let n in e[0].onboarding[t].onbprocess.textItem[a].resources){let s=document.createElement("li");s.className="resItem","url"==e[0].onboarding[t].onbprocess.textItem[a].resources[n].type?s.innerHTML="<a href='"+e[0].onboarding[t].onbprocess.textItem[a].resources[n].url+"' target='_blank'>"+e[0].onboarding[t].onbprocess.textItem[a].resources[n].text+"</a>":s.innerHTML=e[0].onboarding[t].onbprocess.textItem[a].resources[n].text,l.appendChild(s)}r.appendChild(l),i.appendChild(r),n.appendChild(s),n.appendChild(i),m.appendChild(n)}u.appendChild(c),u.appendChild(m);let p=document.createElement("div");return p.className="processimg",p.style.backgroundImage=e[0].onboarding[t].onbprocess.imgurl,p.style.backgroundRepeat="no-repeat",p.style.backgroundPosition="center",p.style.width="100%",p.style.height="270px",d.appendChild(u),d.appendChild(p),a.appendChild(n),a.appendChild(d),generateHTMLCard("","#",12,"gpe_onboarding","row_left_1","USR-right","onboardingContent",a),n}return!0}async function buildModuleWidget(e,t){const a=JSON.parse(sessionStorage.csWidgetConfig),n={csUser:sessionStorage.csUser};for(let s in e){let i=document.createElement("div");switch(i.className="gpeWelcomePageModules",i.setAttribute("style","display:flex;flex-direction:column;"),e[s]){case"ATS":case"LMS":case"EPM":if(0==a[0].MODULECONFIG[e[s]][t].AVAILABILITY)break;let r=document.createElement("div");r.className="moduleContainer",r.setAttribute("id","module_"+e[s]),r.setAttribute("style","order:"+a[0].MODULECONFIG[e[s]][t].ORDER+";");let l=document.createElement("div");l.className="moduleTitleDiv";let o=document.createElement("h3");o.className="moduleTitle",o.innerHTML=a[0].MODULECONFIG[e[s]].settings.moduletitle[sessionStorage.csCulture];let d=document.createElement("div");d.className="moduleWidgetContainer row";for(let n in a[0].MODULECONFIG[e[s]][t].WIDGETS){let i=a[0].MODULECONFIG[e[s]][t].WIDGETS[n].ID,r=document.createElement("div");r.className="moduleWidget col-md-"+a[0].MODULECONFIG[e[s]][t].WIDGETS[n].COLUMNSIZE,r.setAttribute("id",e[s]+"-"+i),r.setAttribute("style","order:"+a[0].MODULECONFIG[e[s]][t].WIDGETS[n].ORDER+";"),d.appendChild(r)}let c=document.createElement("div");c.className="moduleLinkWrapper row";let u=document.createElement("div");u.className="moduleLinkWrapperCol col-md-12";let m=document.createElement("ul");m.className="moduleLinkContainer";for(let i in a[0].MODULECONFIG[e[s]][t].LINKS){let r=a[0].MODULECONFIG[e[s]][t].LINKS[i].ID,l=document.createElement("li");l.className="moduleLink",l.setAttribute("id",e[s]+"-"+r),l.setAttribute("style","order:"+a[0].MODULECONFIG[e[s]][t].LINKS[i].ORDER+";");let o=document.createElement("a");o.className="modLinkItemLink",o.href=injectVariables(n,a[0].LINKS[r].URL);let d=document.createElement("div");d.className="modLinkItem";let c=document.createElement("div");c.className="moduleLinkIcon",c.style.backgroundImage="url('https://scfiles.csod.com/Baseline/Config/Images/gpeWelcomePage/"+a[0].LINKS[r].ICON+"')";let u=document.createElement("div");u.className="moduleLinkTitle",u.innerHTML=a[0].LINKS[r].TITLE[sessionStorage.csCulture],d.appendChild(c),d.appendChild(u),o.appendChild(d),l.appendChild(o),m.appendChild(l)}l.appendChild(o),r.appendChild(l),r.appendChild(d),u.appendChild(m),c.appendChild(u),r.appendChild(c),i.appendChild(r),document.getElementById(a[0].MODULECONFIG[e[s]][t].TARGETDIV+"-right").appendChild(i);break}}}async function buildExtendedModuleWidget(e,t){const a=JSON.parse(sessionStorage.csWidgetConfig),n={csUser:sessionStorage.csUser};switch(t){case"INS":case"ADM":case"HRD":case"MGR":let s=document.createElement("div");s.className="moduleContainer",s.setAttribute("id","module_"+t),s.setAttribute("style","order:"+a[0].ROLESPECIFIC[t].SETTINGS.ORDER+";");let i=document.createElement("div");i.className="moduleTitleDiv";let r=document.createElement("h3");r.className="moduleTitle",r.innerHTML=a[0].ROLESPECIFIC[t].SETTINGS.MODULETITLE[sessionStorage.csCulture];let l=document.createElement("div");l.className="moduleWidgetContainer row";for(let e in a[0].ROLESPECIFIC[t].WIDGETS){let n=a[0].ROLESPECIFIC[t].WIDGETS[e].ID,s=document.createElement("div");s.className="moduleWidget col-md-"+a[0].ROLESPECIFIC[t].WIDGETS[e].COLUMNSIZE,s.setAttribute("id",n),s.setAttribute("style","order:"+a[0].ROLESPECIFIC[t].WIDGETS[e].ORDER+";"),l.appendChild(s)}let o=document.createElement("div");o.className="moduleLinkWrapper row";let d=document.createElement("div");d.className="moduleLinkWrapperCol col-md-12";let c=document.createElement("ul");c.className="moduleLinkContainer";for(let s in a[0].ROLESPECIFIC[t].LINKS){let i=a[0].ROLESPECIFIC[t].LINKS[s].ID;if(e.some((e=>a[0].LINKS[i].MODULE.includes(e)))||"CORE"==a[0].LINKS[i].MODULE){let e=a[0].ROLESPECIFIC[t].LINKS[s].ID,i=document.createElement("li");i.className="moduleLink",i.setAttribute("id",t+"-"+e),i.setAttribute("style","order:"+a[0].ROLESPECIFIC[t].LINKS[s].ORDER+";");let r=document.createElement("a");r.className="modLinkItemLink",r.href=injectVariables(n,a[0].LINKS[e].URL);let l=document.createElement("div");l.className="modLinkItem";let o=document.createElement("div");o.className="moduleLinkIcon",o.style.backgroundImage="url('https://scfiles.csod.com/Baseline/Config/Images/gpeWelcomePage/"+a[0].LINKS[e].ICON+"')";let d=document.createElement("div");d.className="moduleLinkTitle",d.innerHTML=a[0].LINKS[e].TITLE[sessionStorage.csCulture],l.appendChild(o),l.appendChild(d),r.appendChild(l),i.appendChild(r),c.appendChild(i)}}i.appendChild(r),s.appendChild(i),s.appendChild(l),d.appendChild(c),o.appendChild(d),s.appendChild(o);let u=document.getElementById(a[0].ROLESPECIFIC[t].SETTINGS.TARGETDIV).getElementsByClassName("gpeWelcomePageModules")[0];if(u){u.getElementsByClassName("gpeWelcomePageModules")[0].appendChild(s)}else{let e=document.createElement("div");e.className="gpeWelcomePageModules",e.setAttribute("style","display:flex;flex-direction:column;"),e.appendChild(s),document.getElementById(a[0].ROLESPECIFIC[t].SETTINGS.TARGETDIV).appendChild(e)}break}}async function buildWidgets_v2(e,t){let a=[];return e.forEach((function(e){a.push(getWidgetData_v2(e,t))})),await Promise.all(a).then((async function(e){return e.map((async function(e,t){null!=e&&e.forEach((function(e){if(0!=e)return generateHTMLWidget(e.id,"12","widgetCard_"+e.id,"widgetWrapper_"+e.id,e.id,"cs_"+e.id,e)}))}))})).then((async function(e){return $("canvas").each((function(){Chart.getChart($(this).attr("id")).update()})),e})).catch((e=>{}))}async function buildExtendedWidgets(e){return setPreloader(e+"-content","on"),getExtendedWidgetData(e).then((async function(e){return e.map((async function(e,t){return null!=e&&generateHTMLWidget(e.id,"12","widgetCard_"+e.id,"widgetWrapper_"+e.id,e.id,"cs_"+e.id,e)}))})).then((async function(t){return $("canvas").each((function(){Chart.getChart($(this).attr("id")).update()})),setPreloader(e+"-content","off"),t})).catch((e=>{}))}async function getExtendedWidgetData(e){const t=JSON.parse(sessionStorage.csWidgetConfig);let a=[];if(t[0].ROLESPECIFIC.hasOwnProperty(e))for(let n in t[0].ROLESPECIFIC[e].WIDGETS)switch(t[0].ROLESPECIFIC[e].WIDGETS[n].ID){case"DIRECT_REPORTS":a.push(buildExtendedWidget_v3(t[0].ROLESPECIFIC[e].WIDGETS[n].ID,e));break;case"RPT_TRAININGWITHDRAWALS":case"RPT_ASSIGNEDTRAININGSTATUS":case"RPT_SESSIONSEATAVAILABILITY":case"RPT_PASTDUE":case"RPT_EMPLOYEESTATUS":case"RPT_USERRECORDBYMGR":case"RPT_BADGELEADERBOARD":case"RPT_TRAININGPROGRESSSUMMARY":case"RPT_ORGGOALPROGRESS":case"RPT_HEADCOUNT":let s=t[0].WIDGETS[t[0].ROLESPECIFIC[e].WIDGETS[n].ID].reportid,i=document.createElement("div");i.className=t[0].ROLESPECIFIC[e].WIDGETS[n].ID+" chart-container",i.setAttribute("id",t[0].ROLESPECIFIC[e].WIDGETS[n].ID),a.push(await createDashboard(s,t[0].ROLESPECIFIC[e].WIDGETS[n].ID,i,e));break}return await Promise.all(a)}async function getWidgetData_v2(e,t){const a=JSON.parse(sessionStorage.csWidgetConfig);switch(e){case"ATS":case"EPM":case"LMS":if(0==a[0].MODULECONFIG[e][t].AVAILABILITY)break;let n=[];for(let s in a[0].MODULECONFIG[e][t].WIDGETS)switch(a[0].MODULECONFIG[e][t].WIDGETS[s].ID){case"DIRECT_REPORTS":n.push(buildExtendedWidget_v3(a[0].MODULECONFIG[e][t].WIDGETS[s].ID,e));break;case"TOP_PICKS":n.push(getTopPicks(a[0].MODULECONFIG[e][t].WIDGETS[s].ID,e));break;case"INSPIRED_BY_SUBJECTS":n.push(getInspiredBySubjects(a[0].MODULECONFIG[e][t].WIDGETS[s].ID,e));break;case"TRENDING_FOR_JOB":n.push(getTrendingForJob(a[0].MODULECONFIG[e][t].WIDGETS[s].ID,e));break;case"TRAINING_METRICS":n.push(getTranscriptMetrics(a[0].MODULECONFIG[e][t].WIDGETS[s].ID,e));break;case"CHECKINS":n.push(getCheckinsDetails(a[0].MODULECONFIG[e][t].WIDGETS[s].ID,e));break;case"GOAL_PROGRESS":n.push(getDonutDetails(a[0].MODULECONFIG[e][t].WIDGETS[s].ID,"/phnx/driver.aspx?routename=Goals/GoalList",e));break;case"DEVPLAN_PROGRESS":n.push(getDonutDetails(a[0].MODULECONFIG[e][t].WIDGETS[s].ID,"/phnx/driver.aspx?routename=Social/UniversalProfile/Snapshot",e));break;case"TOTALCANDIDATES":n.push(getAllCandidates(a[0].MODULECONFIG[e][t].WIDGETS[s].ID,e));break;case"NEWSUBMISSIONS":n.push(getNewSubmissions(a[0].MODULECONFIG[e][t].WIDGETS[s].ID,e));break;case"NEWHIRES":n.push(getNewHires(a[0].MODULECONFIG[e][t].WIDGETS[s].ID,e));break}return await Promise.all(n)}}function generateHTMLWidget(e,t,a,n,s,i,r){const l=JSON.parse(sessionStorage.csWidgetConfig),o={csUser:sessionStorage.csUser};var d="";document.getElementById(n)?d=document.getElementById(n):((d=document.createElement("div")).setAttribute("id",n),d.className="widgetData col-md-"+t);var c=document.createElement("div");c.setAttribute("id",a+"widget");var u=document.createElement("div");u.className="card";var m=document.createElement("a");m.className="card-header",m.innerHTML=l[0].WIDGETS[e].title[sessionStorage.csCulture],m.setAttribute("href",injectVariables(o,l[0].WIDGETS[e].url));var p=document.createElement("div");p.className="card-body";var h=document.createElement("div");return h.className=i,h=r,p.appendChild(h),u.append(m,p),c.appendChild(u),d.appendChild(c),document.getElementById(s).appendChild(d),d}async function generateHTMLCard(e,t,a,n,s,i,r,l){var o="";document.getElementById(s)?o=document.getElementById(s):((o=document.createElement("div")).setAttribute("id",s),o.className="row");var d=document.createElement("div");d.className="col-md-"+a,d.setAttribute("id",n);var c=document.createElement("div");c.className="card";var u=document.createElement("a");u.className="card-header",u.innerHTML=e,u.setAttribute("href",t);var m=document.createElement("div");m.className="card-body";var p=document.createElement("div");return p.className=r,p=l,m.appendChild(p),c.append(u,m),d.appendChild(c),o.appendChild(d),document.getElementById(i).appendChild(o),s}async function buildAboutCard(){if(document.getElementById("gpeAboutCard"))return!0;{const h=JSON.parse(sessionStorage.csWidgetConfig),g={csUser:sessionStorage.csUser};var e=document.createElement("div");e.className="container-fluid topcontent",e.setAttribute("id","gpeAboutCard");var t=document.createElement("div");t.className="row";var a=document.createElement("div");a.className="col-md-2";var n=document.createElement("a");n.setAttribute("href","/phnx/driver.aspx?routename=Social/UniversalProfile/Bio");var s=document.createElement("img");s.className="abt-image",s.setAttribute("src",document.querySelector("img[id*='header_headerResponsive_responsiveNav_imgPhoto']").getAttribute("src")),n.appendChild(s),a.appendChild(n);var i=document.createElement("div");i.className="col-md-4";var r=document.createElement("div");r.className="abt";var l=document.createElement("div");l.className="abt-name";var o=document.createElement("span");o.className="abt-name-text",o.innerHTML=document.querySelector("[id*='header_headerResponsive_responsiveNav_lblName']").innerHTML;var d=document.createElement("div");d.className="abt-job";var c=document.createElement("span");c.className="abt-job-text",c.innerHTML=document.querySelector("[id*='header_headerResponsive_responsiveNav_lblPosition']").innerHTML,d.appendChild(c);var u=document.createElement("div");u.className="tmpCoreLinksWrapper col-md-6";var m=document.createElement("ul");m.className="topLinkContainer d-flex justify-content-center";for(let e in h[0].TOPNAVLINKS[gpeDEMOROLE]){let t=h[0].TOPNAVLINKS[gpeDEMOROLE][e].ID;if(gpeDEMMOMODULES.includes(h[0].LINKS[t].MODULE)||"CORE"==h[0].LINKS[t].MODULE){let e=document.createElement("li");e.className="moduleLink";let a=document.createElement("a");a.className="modLinkItemLink",a.href=injectVariables(g,h[0].LINKS[t].URL);let n=document.createElement("div");n.className="modLinkItem";let s=document.createElement("div");s.className="moduleLinkIcon",s.style.backgroundImage="url('https://scfiles.csod.com/Baseline/Config/Images/gpeWelcomePage/"+h[0].LINKS[t].ICON+"')";let i=document.createElement("div");i.className="moduleLinkTitle",i.innerHTML=h[0].LINKS[t].TITLE[sessionStorage.csCulture],n.appendChild(s),n.appendChild(i),a.appendChild(n),e.appendChild(a),m.appendChild(e)}}u.appendChild(m),l.appendChild(o),r.appendChild(l),r.appendChild(d),i.appendChild(r),t.appendChild(a),t.appendChild(i),t.appendChild(u),e.appendChild(t);var p=document.getElementById(gpeABOUTCARDDIV);return p.appendChild(e),p}}function getApprovalDetails_v2(e,t,a){let n,s=0,i=document.createElement("div");i.className="gpeApprovals";for(let a in e)s+=1,$("table[id*='plnInbox_content'] a[href*='"+e[a].url+"']").text((function(){let r=document.createElement("div");r.className="approval-item approval-"+a+" app"+s;let l=document.createElement("a");l.className="position-relative "+a,l.setAttribute("href",$(this).attr("href"));let o=document.createElement("div");o.setAttribute("content",e[a].title[t]),o.className="approval_button",o.textContent=e[a].title[t];let d=document.createElement("span");d.className="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",d.innerHTML=$("table[id*='plnInbox_content'] a[href*='"+e[a].url+"'] ~ span:first").text().match(/\d+/)[0],l.appendChild(o),l.appendChild(d),r.appendChild(l),i.appendChild(r),n="ok"}));if("ok"==n){const e=JSON.parse(sessionStorage.csCustomLocale);let t=document.createElement("div");t.className="gpewp_approvals modal fade",t.setAttribute("id","nav-APPROVALS"),t.setAttribute("tabindex","-1"),t.setAttribute("aria-labelledby","ApprovalModal"),t.setAttribute("aria-hidden","true");let a=document.createElement("div");a.className="modal-dialog modal-dialog-centered",a.setAttribute("role","document");let n=document.createElement("div");n.className="modal-content";let s=document.createElement("div");s.className="modal-header";let r=document.createElement("h5");r.className="modal-title",r.setAttribute("id","modalTitle"),r.innerHTML=e[0].topNavigationTitle.APPROVALS[sessionStorage.csCulture];let l=document.createElement("button");l.className="btn-close",l.setAttribute("type","button"),l.setAttribute("data-bs-dismiss","modal"),l.setAttribute("aria-label","Close"),s.appendChild(r),s.appendChild(l),n.appendChild(s);let o=document.createElement("div");o.className="modal-body",o.appendChild(i),n.appendChild(o),a.appendChild(n),t.appendChild(a),document.body.appendChild(t)}return n}async function getDonutDetails(e,t,a){const n=JSON.parse(sessionStorage.csWidgetConfig);let s=a+"-"+e;return await Promise.resolve(await fetch(t)).then((async function(e){return await e.text()})).then((async function(e){switch(s){case n[0].WIDGETS["EPM-GOAL_PROGRESS"].targetdiv:return await $(e).find(".percentage").attr("data-percent");case n[0].WIDGETS["EPM-DEVPLAN_PROGRESS"].targetdiv:return await $(e).find("a[href*='/phnx/driver.aspx?routename=Social/UniversalProfile/Snapshot/DevPlanNew']").closest("div[class*='dashboard-widget-content']").find(".percentage span").text()}})).then((async function(t){let i=document.createElement("div");if(i.className=e,i.setAttribute("id",a+"-"+e),0!=t)return await Promise.resolve(await drawDonut(t,e,i));{let t=n[0].WIDGETS[s].nocontenttitle[sessionStorage.csCulture],a="<div class='nocontent donut'>";return a+="<button type='button' id='"+e+"_nodata' class='getstarted_button' data-href='"+n[0].WIDGETS[s].getstartedurl+"'>"+t+"</button>",a+="</div>",i.innerHTML=a,await i}})).catch((e=>{}))}async function drawDonut(e,t,a){let n=[e,100-e],s={id:"counter",beforeDraw(e,t,a){const{ctx:s,chartArea:{top:i,right:r,bottom:l,left:o,width:d,height:c}}=e;s.save(),s.font=a.fontSize+"px "+a.fontFamily,s.textAlign="center",s.fillStyle=a.fontColor,s.fillText(n[0]+"%",d/2,c/2+.34*a.fontSize)}},i={type:"doughnut",data:{labels:["Achieved"],datasets:[{label:"dataset",data:n,backgroundColor:[gpePRIMARYBGCSS,"rgb(200, 200, 200)"],borderRadius:5}]},options:{responsive:"true",events:[],plugins:{tooltip:{enabled:!1},hover:{mode:null},counter:{fontColor:"black",fontSize:30,fontFamily:"sans-serif"},legend:{display:!1},title:{display:!1}}},plugins:[s]};const r=document.createElement("canvas");r.id=t+"_chart",r.setAttribute("style","height: 120px, width: 100%");let l=r.getContext("2d");new Chart(l,i);return a.appendChild(r),await a}async function updateJWT(){return fetch("/ui/perf-check-ins/Check-Ins",{method:"GET",headers:{"Content-Type":"text/html"}}).then((e=>e.text())).then((e=>(sessionStorage.csToken=e.substring(e.indexOf('"token"')+9,e.indexOf('",',e.indexOf('"token"'))),sessionStorage.csCloud=e.substring(e.indexOf('"cloud"')+9,e.indexOf('",',e.indexOf('"cloud"'))),sessionStorage.csUser=e.substring(e.indexOf('"user":')+7,e.indexOf(",",e.indexOf('"user"'))),sessionStorage.csCorp=e.substring(e.indexOf('"corp"')+8,e.indexOf('",',e.indexOf('"corp"'))),sessionStorage.csCulture=e.substring(e.indexOf('"cultureName"')+15,e.indexOf('",',e.indexOf('"cultureName"'))),sessionStorage.csToken))).catch((e=>{}))}function checkJWT(){return new Promise(((e,t)=>{if(sessionStorage.csToken)if(1==!!$("[id*='pnlActionItems_titleMiddle'] a[href*='TargetUser="+sessionStorage.csUser+"']").length){var a=JSON.parse(atob(sessionStorage.csToken.split(".")[1])),n=a.exp.substring(0,4),s=a.exp.substring(4,6),i=a.exp.substring(6,8),r=a.exp.substring(8,10),l=a.exp.substring(10,12),o=a.exp.substring(12,14);if(0==new Date(Date.UTC(n,s-1,i,r,l,o)).getTime()>Date.now())return e(updateJWT()),sessionStorage.csToken;e(sessionStorage.csToken)}else e(updateJWT());else e(updateJWT())}))}async function setUserModulesDetails(){let e="/services/api/x/users/v2/employees/"+sessionStorage.csUser;return checkJWT().then((async function(){return await fetch(e,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}})})).then((e=>e.json())).then((async function(e){let t="/services/api/x/odata/api/views/vw_rpt_ou?$filter=ou_id eq "+e.data.ous[3].id+" and type_id eq "+e.data.ous[3].typeId;return await fetch(t,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}})})).then((e=>e.json())).then((async function(e){var t=e.value[0].title.substring(3);return sessionStorage.setItem("csDemoModules",t),t})).catch((e=>{}))}async function getGoalProgress(e){let t=[];return e.data.map((async function(e){var a="/services/api/goalSummary/summary/"+e.id+"?StartDate="+(new Date).getFullYear()+"-01-01&EndDate="+(new Date).getFullYear()+"-12-24";t.push(fetch(a,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}}).then((e=>e.json())).then((async function(e){return await e})))})),await Promise.all(t)}async function getTranscriptsStats(e){let t=[];return await e.data.map((async function(e){let a={UserId:e.externalId,InprogressOnly:!0},n="/services/api/TranscriptAndTask/Transcript?"+Object.keys(a).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(a[e]))).join("&");t.push(fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}}).then((e=>e.json())).then((async function(t){let a={};return a.data=t.data,a.id=e.id,a})).catch((e=>{})))})),await Promise.all(t)}async function buildExtendedWidget_v3(e,t){const a=JSON.parse(sessionStorage.csWidgetConfig);return await checkJWT().then((async function(){let e="/services/api/x/odata/api/views/vw_rpt_user?$filter=user_mgr_id eq "+sessionStorage.csUser+"&$select=user_id";return await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}})})).then((e=>e.json())).then((async function(e){return await e.value.map((function(e){return e.user_id}))})).then((async function(e){let t="/services/api/x/users/v2/employees?ids="+e.join();return await Promise.resolve(fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}}))})).then((e=>e.json())).then((async function(e){let t=e.data,a=await Promise.resolve(getGoalProgress(e)),n=[],s=[];n=a.map((function(e){return e.data}));for(let e in n){let t=0,a=0;for(let s in n[e])t+=n[e][s].Weight*n[e][s].Progress,a+=n[e][s].Weight;0!==n[e].length&&(s[e]={id:n[e][0].User.Id,goalprogress:Math.round(t/a)+"%"})}const i=t.map((e=>s.some((({id:t})=>t==e.id))?{...e,...s.find((({id:t})=>t==e.id))}:e));return await i})).then((async function(t){let n=await t.map((function(e){return{id:e.id,firstName:e.firstName,lastName:e.lastName,fullName:e.firstName+" "+e.lastName,username:e.userName,primaryEmail:e.primaryEmail,mobilPhone:e.mobilePhone,workPhone:e.workPhone,goalProgress:e.goalprogress&&e.goalprogress,language:e.settings.displayLanguage,timezone:e.settings.timeZone,hiredate:e.workerStatus.lastHireDate&&e.workerStatus.lastHireDate.substring(0,10),address:{line1:e.address.line1,city:e.address.city,country:e.address.country,state:e.address.state}}})),s=[{title:"User ID",field:"id",visible:!1},{title:a[0].managerwidget.tableheader.name[sessionStorage.csCulture],field:"fullName"},{title:a[0].managerwidget.tableheader.hiredate[sessionStorage.csCulture],field:"hiredate"},{title:a[0].managerwidget.tableheader.actions[sessionStorage.csCulture],field:"action",align:"center",clickToSelect:!1,formatter:operateFormatter}];s.splice(3,0,{title:"Goal Progress",field:"goalProgress",align:"center"});const i=document.createElement("div");i.className=e,i.setAttribute("id",e);var r=document.createElement("div");let l;return r.setAttribute("id","extendedUserWidget"),r.className="user_table",l=$("<table id='extendedUserTable'>"),l.appendTo(r),l.bootstrapTable({locale:sessionStorage.csCulture,showColumns:!1,showColumnsSearch:!1,checkboxHeader:!1,showToggle:!1,detailView:!0,detailFormatter:detailFormatter,columns:s,data:n}),i.appendChild(r),i})).catch((e=>{}))}function operateFormatter(e,t,a){const n=JSON.parse(sessionStorage.csWidgetConfig);return['<div class="dropdown">','<a class="btn btn-secondary dropdown-toggle" data-boundary="viewport" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">',n[0].managerwidget.tableheader.actions[sessionStorage.csCulture],"</a>",'<ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">','<li><a class="dropdown-item" href="/phnx/driver.aspx?routename=Social/UniversalProfile/Bio&TargetUser='+t.id+'">'+n[0].managerwidget.actionsitems.openup[sessionStorage.csCulture]+"</a></li>",'<li><a class="dropdown-item" href="/phnx/driver.aspx?routename=Social/UniversalProfile/Transcript&TargetUser='+t.id+'">'+n[0].managerwidget.actionsitems.viewtranscript[sessionStorage.csCulture]+"</a></li>",'<li><a class="dropdown-item" href="/phnx/driver.aspx?routename=Social/UniversalProfile/Snapshot&TargetUser='+t.id+'">'+n[0].managerwidget.actionsitems.viewsnapshot[sessionStorage.csCulture]+"</a></li>",'<li><a class="dropdown-item" href="/phnx/driver.aspx?routename=Social/UniversalProfile/Snapshot/Goals&TargetUser='+t.id+'">'+n[0].managerwidget.actionsitems.viewgoals[sessionStorage.csCulture]+"</a></li>",'<li><a class="dropdown-item" href="/phnx/driver.aspx?routename=Social/UniversalProfile/Snapshot/DevPlanNew&targetUser='+t.id+'">'+n[0].managerwidget.actionsitems.viewdevplan[sessionStorage.csCulture]+"</a></li>","</ul>","</div>"].join("")}function detailFormatter(e,t){const a=JSON.parse(sessionStorage.csWidgetConfig);let n=[];return n.push('<div class="col-xs-12 col-sm-12 col-md-12 extended-details collapse" id="accordion">'),n.push('<div class="well well-sm">'),n.push('<div class="row">'),n.push('<div class="col-sm-6 col-md-6">'),n.push('<table border="0" cellspacing="0" cellpadding="0" class="detailoutable">'),n.push("<tr>"),n.push("<td>"+a[0].managerwidget.detailtable.firstname[sessionStorage.csCulture]+"</td>"),n.push("<td>"+t.firstName+"</td>"),n.push("</tr>"),n.push("<tr>"),n.push("<td>"+a[0].managerwidget.detailtable.lastname[sessionStorage.csCulture]+"</td>"),n.push("<td>"+t.lastName+"</td>"),n.push("</tr>"),n.push("<tr>"),n.push("<td>"+a[0].managerwidget.detailtable.email[sessionStorage.csCulture]+"</td>"),n.push("<td>"+t.primaryEmail+"</td>"),n.push("</tr>"),n.push("<tr>"),n.push("<td>"+a[0].managerwidget.detailtable.phone[sessionStorage.csCulture]+"</td>"),n.push("<td>"+t.workPhone+"</td>"),n.push("</tr>"),n.push("<tr>"),n.push("<td>"+a[0].managerwidget.detailtable.hiredate[sessionStorage.csCulture]+"</td>"),n.push("<td>"+t.hiredate+"</td>"),n.push("</tr>"),n.push("</table>"),n.push("</div>"),n.push('<div class="col-sm-6 col-md-6">'),n.push('<table border="0" cellspacing="0" cellpadding="0" class="detailoutable">'),n.push("<tr>"),n.push("<td>"+a[0].managerwidget.detailtable.address[sessionStorage.csCulture]+"</td>"),n.push("<td>"+t.address.line1+"</td>"),n.push("</tr>"),n.push("<tr>"),n.push("<td>"+a[0].managerwidget.detailtable.city[sessionStorage.csCulture]+"</td>"),n.push("<td>"+t.address.city+"</td>"),n.push("</tr>"),n.push("<tr>"),n.push("<td>"+a[0].managerwidget.detailtable.state[sessionStorage.csCulture]+"</td>"),n.push("<td>"+t.address.state+"</td>"),n.push("</tr>"),n.push("<tr>"),n.push("<td>"+a[0].managerwidget.detailtable.country[sessionStorage.csCulture]+"</td>"),n.push("<td>"+t.address.country+"</td>"),n.push("</tr>"),n.push("</table>"),n.push("</div>"),n.push("</div>"),n.push("</div>"),n.push("</div>"),n.join("")}async function getNewHires(e,t){const a=document.createElement("div");return a.className=e,a.setAttribute("id",t+"-"+e),fetch("/phnx/driver.aspx?routename=ONB/Dashboard",{method:"GET",headers:{"Content-Type":"text/html"}}).then((e=>e.text())).then((e=>{var t=jQuery("<div>").append(e);t.find("div[rel='dropDownButton']").remove();var n=t.html();let s=$(n).find(".content > div[ct='HBoxLayout'] "),i="";return s.each((function(e,t){i+="<div class='ATS totalCandidates gpe-cap row'>",i+="<div class='summaryItem col-md-12'>",i+="<div class='gpe-left'>",i+="<div class='newHires '>"+t.outerHTML+"</div>",i+="</div>",i+="</div>",i+="</div>"})),a.innerHTML=i,a})).catch((e=>{}))}async function getNewSubmissions(e,t){const a=JSON.parse(sessionStorage.csWidgetConfig);let n=t+"-"+e;const s=document.createElement("div");return s.className=e,s.setAttribute("id",t+"-"+e),await checkJWT().then((async function(){let e=sessionStorage.csCloud+"rec-manage-candidates/v1/candidates";return await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken},body:JSON.stringify({filters:{statusIds:[],flagIds:[],sourceIds:[],requisitionIds:[],candidateIds:[],onlyOpenRequisitions:!0,onlyActiveCandidates:!0,keywords:"",onlyMyRequisitions:!0,requisitionNameSearchTerm:""},paging:{pageSize:20,pageNumber:1,sortOrder:"SubmissionDateDescending"},include:["Candidates","AvailableFilters","StatusCategories"]})})})).then((e=>e.json())).then((async function(e){var t=$.map(e.data.statusCategories,(function(e){return-1==e.id?e.count:null}));let i="<div class='ATS totalCandidates gpe-cap row'>";return i+="<div class='summaryItem col-md-12'>",i+="<div class='gpe-center'>",i+="<a href='"+a[0].WIDGETS[n].url+"'>",i+="<div class='totalCandidates gpe-bold gpe-text40'>"+t+"</div>",i+="</a>",i+="</div>",i+="</div>",i+="</div>",s.innerHTML=i,s})).catch((e=>{}))}async function getAllCandidates(e,t){const a=JSON.parse(sessionStorage.csWidgetConfig);let n=t+"-"+e;const s=document.createElement("div");return s.className=e,s.setAttribute("id",n),await checkJWT().then((async function(){let e=sessionStorage.csCloud+"rec-manage-candidates/v1/candidates";return await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken},body:JSON.stringify({filters:{statusIds:[],flagIds:[],sourceIds:[],requisitionIds:[],candidateIds:[],onlyOpenRequisitions:!0,onlyActiveCandidates:!0,keywords:"",onlyMyRequisitions:!0,requisitionNameSearchTerm:""},paging:{pageSize:20,pageNumber:1,sortOrder:"SubmissionDateDescending"},include:["Candidates","AvailableFilters","StatusCategories"]})})})).then((e=>e.json())).then((async function(e){let t="<div class='ATS totalCandidates gpe-cap row'>";return t+="<div class='summaryItem col-md-12'>",t+="<div class='gpe-center'>",t+="<a href='"+a[0].WIDGETS[n].url+"'>",t+="<div class='flex-column min-vh-50 justify-content-center align-items-center'>",t+="<div class='totalCandidates gpe-bold gpe-text40'>"+e.data.totalItems+"</div>",t+="</div>",t+="</a>",t+="</div>",t+="</div>",t+="</div>",s.innerHTML=t,s})).catch((e=>{}))}async function getCandidateMetrics(e,t){const a=JSON.parse(sessionStorage.csWidgetConfig);let n=t+"-"+e;const s=document.createElement("div");return s.className=e,s.setAttribute("id",n),await checkJWT().then((async function(){let e=sessionStorage.csCloud+"rec-manage-candidates/v1/candidates";return await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken},body:JSON.stringify({filters:{statusIds:[],flagIds:[],sourceIds:[],requisitionIds:[],candidateIds:[],onlyOpenRequisitions:!0,onlyActiveCandidates:!0,keywords:"",onlyMyRequisitions:!0,requisitionNameSearchTerm:""},paging:{pageSize:20,pageNumber:1,sortOrder:"SubmissionDateDescending"},include:["Candidates","AvailableFilters","StatusCategories"]})})})).then((e=>e.json())).then((async function(e){let t="<div class='ATS totalCandidates gpe-cap row'>";return t+="<div class='summaryItem col-md-12'>",t+="<div class='gpe-center'>",t+="<a href='"+a[0].WIDGETS[n].url+"'>",t+="<div class='totalCandidates gpe-bold gpe-text40'>"+e.data.totalItems+"</div>",t+="</a>",t+="</div>",t+="</div>",t+="</div>",s.innerHTML=t,s})).catch((e=>{}))}async function getTranscriptMetrics(e,t){const a=JSON.parse(sessionStorage.csWidgetConfig);let n=t+"-"+e;const s=document.createElement("div");return s.className=e,s.setAttribute("id",t+"-"+e),await checkJWT().then((async function(){return await fetch("/services/api/bff/learnerhome/user/"+sessionStorage.csUser+"/stats",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}})})).then((e=>e.json())).then((async function(e){let t="<div class='summaryPanel gpe-cap row'>";return t+="<div class='summaryItem col-md-4'>",t+="<div class='gpe-center'>",t+="<a href='/phnx/driver.aspx?routename=Social/UniversalProfile/Transcript'>",t+="<div class='pastDueCount gpe-bold gpe-text20'>"+e.data[0].metrics.pastDueCount+"</div>",t+="<div class='pastdueDesc gpe-desc'>"+a[0].WIDGETS[n].pastdueDesc[sessionStorage.csCulture]+"</div>",t+="</a>",t+="</div>",t+="</div>",t+="<div class='summaryItem col-md-4'>",t+="<div class='gpe-center'>",t+="<a href='/phnx/driver.aspx?routename=Social/UniversalProfile/Transcript'>",t+="<div class='dueSoonCount gpe-bold gpe-text20'>"+e.data[0].metrics.dueSoonCount+"</div>",t+="<div class='dueSoonDesc gpe-desc'>"+a[0].WIDGETS[n].dueSoonDesc[sessionStorage.csCulture]+"</div>",t+="</a>",t+="</div>",t+="</div>",t+="<div class='summaryItem col-md-4'>",t+="<div class='gpe-center'>",t+="<a href='/phnx/driver.aspx?routename=Social/UniversalProfile/Transcript'>",t+="<div class='noDueDateCount gpe-bold gpe-text20'>"+e.data[0].metrics.noDueDateCount+"</div>",t+="<div class='assignedNoDueDateDesc gpe-desc'>"+a[0].WIDGETS[n].assignedNoDueDateDesc[sessionStorage.csCulture]+"</div>",t+="</a>",t+="</div>",t+="</div>",t+="</div>",t+="<div class='summaryPanel gpe-cap row'>",t+="<div class='summaryItem col-md-4'>",t+="<div class='gpe-center'>",t+="<a href='/ui/lms-learner-playlist/UsersPlaylists'>",t+="<div class='pastDueCount gpe-bold gpe-text20'>"+e.data[0].playlists.numPlaylists+"</div>",t+="<div class='pastdueDesc gpe-desc'>"+a[0].WIDGETS[n].playlists.createdDesc[sessionStorage.csCulture]+"</div>",t+="</a>",t+="</div>",t+="</div>",t+="<div class='summaryItem col-md-4'>",t+="<div class='gpe-center'>",t+="<a href='/ui/lms-learner-playlist/UsersPlaylists'>",t+="<div class='dueSoonCount gpe-bold gpe-text20'>"+e.data[0].playlists.numFollowers+"</div>",t+="<div class='dueSoonDesc gpe-desc'>"+a[0].WIDGETS[n].playlists.followersDesc[sessionStorage.csCulture]+"</div>",t+="</a>",t+="</div>",t+="</div>",t+="<div class='summaryItem col-md-4'>",t+="<div class='gpe-center'>",t+="<a href='/ui/lms-learner-playlist/UsersPlaylists?section=followed'>",t+="<div class='noDueDateCount gpe-bold gpe-text20'>"+e.data[0].playlists.numFollowed+"</div>",t+="<div class='assignedNoDueDateDesc gpe-desc'>"+a[0].WIDGETS[n].playlists.followedDesc[sessionStorage.csCulture]+"</div>",t+="</a>",t+="</div>",t+="</div>",t+="</div>",s.innerHTML=t,s})).catch((e=>{}))}async function getAssignedTraining(e,t){const a=document.createElement("div");return a.className=e,a.setAttribute("id",t+"-"+e),await checkJWT().then((async function(){return await fetch("/services/api/lms/user/"+sessionStorage.csUser+"/transcript?isCompleted=false&isArchived=false&isRemoved=false&isStandAlone=true&sortCriteria=StatusChangeDate&pageSize=20&pageNum=1",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}})})).then((e=>e.json())).then((async function(t){let n=document.createElement("div");n.className="carousel slide",n.setAttribute("id",e+"Carousel"),n.setAttribute("data-bs-ride","carousel"),n.setAttribute("data-bs-interval","false"),n.setAttribute("data-pause","hover");let s=document.createElement("div");s.className="carousel-indicators";let i="";t.data.forEach((function(t,a){let n=document.createElement("button");n.setAttribute("type","button"),n.setAttribute("data-bs-target","#"+e+"Carousel"),n.setAttribute("data-bs-slide-to",a),""==i&&(n.className="active",i="active"),s.appendChild(n)})),n.appendChild(s);let r=document.createElement("div");r.className="carousel-inner";let l="";t.data.forEach((function(e,t){let a=document.createElement("div");a.className="carousel-item",""==l&&(a.className+=" active",l="active");let n=document.createElement("div");n.className="carouselItemTile",n.setAttribute("data-tag",e.id),n.style.height="225px";let s=document.createElement("div");s.className="carouselItemPanel",s.setAttribute("data-tag",e.id),s.setAttribute("style","height: 100%; overflow: hidden;");let i=document.createElement("div"),o=document.createElement("div");o.className="carouselItemPanelItem";let d=document.createElement("div");d.className="carouselItemPanelBody";let c=document.createElement("div"),u=document.createElement("div");u.className="carouselItemPanelTileBody";let m=document.createElement("a");m.className="carouselItemPanelTileLink",m.href=e.trainingDetailsUrl,m.title=e.title;let p=document.createElement("div");p.className="carouselItemPanelTileLinkThmb",p.style.backgroundImage="url('"+e.thumbnailImage+"')",p.style.height="100%",p.style.overflow="hidden",m.appendChild(p),u.appendChild(m),c.appendChild(u),d.appendChild(c),o.appendChild(d);let h=document.createElement("div");h.className="carouselItemPanelCourseDesc";let g=document.createElement("div");g.className="carouselItemPanelCourseDescDiv";let v=document.createElement("span");v.className="carouselItemPanelCourseDescDivType",v.setAttribute("title",e.trainingType),v.innerHTML=e.trainingType;let C=document.createElement("a");C.className="carouselItemPanelCourseDescDivTitle",C.setAttribute("title",e.title),C.href=e.trainingDetailsUrl;let E=document.createElement("div");E.className="carouselItemPanelCourseDescDivTitleWrapper",E.setAttribute("style","min-height: 40px; overflow: hidden;");let b=document.createElement("div");b.className="carouselItemPanelCourseDescD";let f=document.createElement("div");f.className="carouselItemPanelCourseDescTitleText",f.innerHTML=e.title;let S=document.createElement("div");S.className="carouselItemPanelCourseDescTitleTextFader";let I=document.createElement("div");I.className="carouselItemPanelCourseDescDueDate",I.innerHTML=e.dueDateString,f.appendChild(S),b.appendChild(f),E.appendChild(b),C.appendChild(E),g.appendChild(v),g.appendChild(C),g.appendChild(I),h.appendChild(g),i.appendChild(o),i.appendChild(h),s.appendChild(i),n.appendChild(s),a.appendChild(n),r.appendChild(a)})),n.appendChild(r);let o=document.createElement("button");o.className="carousel-control-prev",o.setAttribute("type","button"),o.setAttribute("data-bs-target","#"+e+"Carousel"),o.setAttribute("data-bs-slide","prev");let d=document.createElement("span");d.className="carousel-control-prev-icon";let c=document.createElement("button");c.className="carousel-control-next",c.setAttribute("type","button"),c.setAttribute("data-bs-target","#"+e+"Carousel"),c.setAttribute("data-bs-slide","next");let u=document.createElement("span");return u.className="carousel-control-next-icon",o.appendChild(d),n.appendChild(o),c.appendChild(u),n.appendChild(c),a.appendChild(n),a})).catch((e=>{}))}async function getTrendingForJob(e,t){const a=document.createElement("div");return a.className=e,a.setAttribute("id",t+"-"+e),await checkJWT().then((async function(){return await fetch("/services/api/lms/user/"+sessionStorage.csUser+"/recommendedtraining?type=Position&pageSize=20&pageNum=1",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}})})).then((e=>e.json())).then((async function(t){let n=document.createElement("div");n.className="carousel slide",n.setAttribute("id",e+"Carousel"),n.setAttribute("data-bs-ride","carousel"),n.setAttribute("data-bs-interval","false"),n.setAttribute("data-pause","hover");let s=document.createElement("div");s.className="carousel-inner";let i="";t.data.forEach((function(e,t){let a=document.createElement("div");a.className="carousel-item",""==i&&(a.className+=" active",i="active");let n=document.createElement("div");n.className="carouselItemTile",n.setAttribute("data-tag",e.id),n.style.height="225px";let r=document.createElement("div");r.className="carouselItemPanel",r.setAttribute("data-tag",e.id),r.setAttribute("style","height: 100%; overflow: hidden;");let l=document.createElement("div"),o=document.createElement("div");o.className="carouselItemPanelItem";let d=document.createElement("div");d.className="carouselItemPanelBody";let c=document.createElement("div"),u=document.createElement("div");u.className="carouselItemPanelTileBody";let m=document.createElement("a");m.className="carouselItemPanelTileLink",m.href=e.trainingDetailsUrl,m.title=e.title;let p=document.createElement("div");p.className="carouselItemPanelTileLinkThmb",p.style.backgroundImage="url('"+e.thumbnailImage+"')",p.style.height="100%",p.style.overflow="hidden",m.appendChild(p),u.appendChild(m),c.appendChild(u),d.appendChild(c),o.appendChild(d);let h=document.createElement("div");h.className="carouselItemPanelCourseDesc";let g=document.createElement("div");g.className="carouselItemPanelCourseDescDiv";let v=document.createElement("span");v.className="carouselItemPanelCourseDescDivType",v.setAttribute("title",e.trainingType),v.innerHTML=e.trainingType;let C=document.createElement("a");C.className="carouselItemPanelCourseDescDivTitle",C.setAttribute("title",e.title),C.href=e.trainingDetailsUrl;let E=document.createElement("div");E.className="carouselItemPanelCourseDescDivTitleWrapper",E.setAttribute("style","min-height: 40px; overflow: hidden;");let b=document.createElement("div");b.className="carouselItemPanelCourseDescD";let f=document.createElement("div");f.className="carouselItemPanelCourseDescTitleText",f.innerHTML=e.title;let S=document.createElement("div");S.className="carouselItemPanelCourseDescTitleTextFader";let I=document.createElement("div");I.className="carouselItemPanelCourseDescDuration",I.innerHTML=e.durationString,f.appendChild(S),b.appendChild(f),E.appendChild(b),C.appendChild(E),g.appendChild(v),g.appendChild(C),g.appendChild(I),h.appendChild(g),l.appendChild(o),l.appendChild(h),r.appendChild(l),n.appendChild(r),a.appendChild(n),s.appendChild(a)})),n.appendChild(s);let r=document.createElement("button");r.className="carousel-control-prev",r.setAttribute("type","button"),r.setAttribute("data-bs-target","#"+e+"Carousel"),r.setAttribute("data-bs-slide","prev");let l=document.createElement("span");l.className="carousel-control-prev-icon";let o=document.createElement("button");o.className="carousel-control-next",o.setAttribute("type","button"),o.setAttribute("data-bs-target","#"+e+"Carousel"),o.setAttribute("data-bs-slide","next");let d=document.createElement("span");return d.className="carousel-control-next-icon",r.appendChild(l),n.appendChild(r),o.appendChild(d),n.appendChild(o),a.appendChild(n),a})).catch((e=>{}))}async function getInspiredBySubjects(e,t){const a=document.createElement("div");return a.className=e,a.setAttribute("id",t+"-"+e),await checkJWT().then((async function(){return await fetch("/services/api/lms/user/"+sessionStorage.csUser+"/recommendedtraining?type=Subjects&pageSize=20&pageNum=1",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}})})).then((e=>e.json())).then((async function(t){let n=document.createElement("div");n.className="carousel slide",n.setAttribute("id",e+"Carousel"),n.setAttribute("data-bs-ride","carousel"),n.setAttribute("data-bs-interval","false"),n.setAttribute("data-pause","hover");let s=document.createElement("div");s.className="carousel-inner";let i="";t.data.forEach((function(e,t){let a=document.createElement("div");a.className="carousel-item",""==i&&(a.className+=" active",i="active");let n=document.createElement("div");n.className="carouselItemTile",n.setAttribute("data-tag",e.id),n.style.height="225px";let r=document.createElement("div");r.className="carouselItemPanel",r.setAttribute("data-tag",e.id),r.setAttribute("style","height: 100%; overflow: hidden;");let l=document.createElement("div"),o=document.createElement("div");o.className="carouselItemPanelItem";let d=document.createElement("div");d.className="carouselItemPanelBody";let c=document.createElement("div"),u=document.createElement("div");u.className="carouselItemPanelTileBody";let m=document.createElement("a");m.className="carouselItemPanelTileLink",m.href=e.trainingDetailsUrl,m.title=e.title;let p=document.createElement("div");p.className="carouselItemPanelTileLinkThmb",p.style.backgroundImage="url('"+e.thumbnailImage+"')",p.style.height="100%",p.style.overflow="hidden",m.appendChild(p),u.appendChild(m),c.appendChild(u),d.appendChild(c),o.appendChild(d);let h=document.createElement("div");h.className="carouselItemPanelCourseDesc";let g=document.createElement("div");g.className="carouselItemPanelCourseDescDiv";let v=document.createElement("span");v.className="carouselItemPanelCourseDescDivType",v.setAttribute("title",e.trainingType),v.innerHTML=e.trainingType;let C=document.createElement("a");C.className="carouselItemPanelCourseDescDivTitle",C.setAttribute("title",e.title),C.href=e.trainingDetailsUrl;let E=document.createElement("div");E.className="carouselItemPanelCourseDescDivTitleWrapper",E.setAttribute("style","min-height: 40px; overflow: hidden;");let b=document.createElement("div");b.className="carouselItemPanelCourseDescD";let f=document.createElement("div");f.className="carouselItemPanelCourseDescTitleText",f.innerHTML=e.title;let S=document.createElement("div");S.className="carouselItemPanelCourseDescTitleTextFader";let I=document.createElement("div");I.className="carouselItemPanelCourseDescDuration",I.innerHTML=e.durationString,f.appendChild(S),b.appendChild(f),E.appendChild(b),C.appendChild(E),g.appendChild(v),g.appendChild(C),g.appendChild(I),h.appendChild(g),l.appendChild(o),l.appendChild(h),r.appendChild(l),n.appendChild(r),a.appendChild(n),s.appendChild(a)})),n.appendChild(s);let r=document.createElement("button");r.className="carousel-control-prev",r.setAttribute("type","button"),r.setAttribute("data-bs-target","#"+e+"Carousel"),r.setAttribute("data-bs-slide","prev");let l=document.createElement("span");l.className="carousel-control-prev-icon";let o=document.createElement("button");o.className="carousel-control-next",o.setAttribute("type","button"),o.setAttribute("data-bs-target","#"+e+"Carousel"),o.setAttribute("data-bs-slide","next");let d=document.createElement("span");return d.className="carousel-control-next-icon",r.appendChild(l),n.appendChild(r),o.appendChild(d),n.appendChild(o),a.appendChild(n),a})).catch((e=>{}))}async function getTopPicks(e,t){const a=document.createElement("div");return a.className=e,a.setAttribute("id",t+"-"+e),await checkJWT().then((async function(){return await fetch("/services/api/lms/user/"+sessionStorage.csUser+"/recommendedtraining?type=TopPicks&pageSize=20&pageNum=1",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}})})).then((e=>e.json())).then((async function(t){let n=document.createElement("div");n.className="carousel slide",n.setAttribute("id",e+"Carousel"),n.setAttribute("data-bs-ride","carousel"),n.setAttribute("data-bs-interval","false"),n.setAttribute("data-pause","hover");let s=document.createElement("div");s.className="carousel-inner";let i="";t.data.forEach((function(e,t){let a=document.createElement("div");a.className="carousel-item",""==i&&(a.className+=" active",i="active");let n=document.createElement("div");n.className="carouselItemTile",n.setAttribute("data-tag",e.id),n.style.height="225px";let r=document.createElement("div");r.className="carouselItemPanel",r.setAttribute("data-tag",e.id),r.setAttribute("style","height: 100%; overflow: hidden;");let l=document.createElement("div"),o=document.createElement("div");o.className="carouselItemPanelItem";let d=document.createElement("div");d.className="carouselItemPanelBody";let c=document.createElement("div"),u=document.createElement("div");u.className="carouselItemPanelTileBody";let m=document.createElement("a");m.className="carouselItemPanelTileLink",m.href=e.trainingDetailsUrl,m.title=e.title;let p=document.createElement("div");p.className="carouselItemPanelTileLinkThmb",p.style.backgroundImage="url('"+e.thumbnailImage+"')",p.style.height="100%",p.style.overflow="hidden",m.appendChild(p),u.appendChild(m),c.appendChild(u),d.appendChild(c),o.appendChild(d);let h=document.createElement("div");h.className="carouselItemPanelCourseDesc";let g=document.createElement("div");g.className="carouselItemPanelCourseDescDiv";let v=document.createElement("span");v.className="carouselItemPanelCourseDescDivType",v.setAttribute("title",e.trainingType),v.innerHTML=e.trainingType;let C=document.createElement("a");C.className="carouselItemPanelCourseDescDivTitle",C.setAttribute("title",e.title),C.href=e.trainingDetailsUrl;let E=document.createElement("div");E.className="carouselItemPanelCourseDescDivTitleWrapper",E.setAttribute("style","min-height: 40px; overflow: hidden;");let b=document.createElement("div");b.className="carouselItemPanelCourseDescD";let f=document.createElement("div");f.className="carouselItemPanelCourseDescTitleText",f.innerHTML=e.title;let S=document.createElement("div");S.className="carouselItemPanelCourseDescTitleTextFader";let I=document.createElement("div");I.className="carouselItemPanelCourseDescDuration",I.innerHTML=e.durationString,f.appendChild(S),b.appendChild(f),E.appendChild(b),C.appendChild(E),g.appendChild(v),g.appendChild(C),g.appendChild(I),h.appendChild(g),l.appendChild(o),l.appendChild(h),r.appendChild(l),n.appendChild(r),a.appendChild(n),s.appendChild(a)})),n.appendChild(s);let r=document.createElement("button");r.className="carousel-control-prev",r.setAttribute("type","button"),r.setAttribute("data-bs-target","#"+e+"Carousel"),r.setAttribute("data-bs-slide","prev");let l=document.createElement("span");l.className="carousel-control-prev-icon";let o=document.createElement("button");o.className="carousel-control-next",o.setAttribute("type","button"),o.setAttribute("data-bs-target","#"+e+"Carousel"),o.setAttribute("data-bs-slide","next");let d=document.createElement("span");return d.className="carousel-control-next-icon",r.appendChild(l),n.appendChild(r),o.appendChild(d),n.appendChild(o),a.appendChild(n),a})).catch((e=>{}))}async function getCheckinsDetails(e,t){const a=JSON.parse(sessionStorage.csWidgetConfig);let n=t+"-"+e;const s=document.createElement("div");s.className=e,s.setAttribute("id",t+"-"+e);let i={};return await checkJWT().then((async function(){return await fetch("/services/x/localization/v1/localizations/ui?groups=GoalPanel,DevPlanPanel,CheckIns&culture="+sessionStorage.csCulture,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}})})).then((e=>e.json())).then((async function(e){let t=sessionStorage.csCloud+"perf-conversations-api/v1/conversations";return i=e.data,await fetch(t,{method:"GET",mode:"cors",cache:"default",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.csToken}})})).then((e=>e.json())).then((async function(e){let t="";if(0!=e.length){var r=window.location.host.split(".");t="<table border='0' cellspacing='0' cellpadding='0' width='100%' class='table table-hover'>",t+="<thead>",t+="<tr>",t+="<th class='checkHeaderCol'>"+i["Perf.Check-Ins.LandingPage.upcomingConversationsOverview.checkInLabel"]+"</th>",t+="<th class='checkHeaderCol'>"+i["Perf.Check-Ins.LandingPage.recentConversationsRow.conversationRecentlyModifiedText"]+"</th>",t+="<th class='checkHeaderCol'>"+i["Perf.Check-Ins.LandingPage.upcomingConversationsOverview.nextMeetingLabel"]+"</th>",t+="</tr>",t+="</thead>";for(let a in e){var l="/clientimg/"+r[0]+"/users/photos/"+e[a].participants[1].pictureUrl;if(t+="<tr id='checkinItem-"+a+"' class='checkinItem clickable-row' data-href='/ui/perf-check-ins/Check-Ins/view/"+e[a].id+"/meeting/"+e[a].meetingsSummary.nextMeetingId+"'>",t+="<td class='checkItemCol'>",t+="<div class='cellContent'>",t+="<div class='upcoming-conversations-list--desktop__title-cell' role='button' tabindex='0'>",t+="<div class='upcoming-conversations-list--desktop__title-cell-avatar' aria-hidden='true'>",t+="<div class='chkAvatarImage' style='background-image:url("+l+")'></div>",t+="</div>",t+="<div class='upcoming-conversations-list--desktop__title-cell-detail'>",t+="<div class='upcoming-conversations-list--desktop__title-cell-detail__user-name'>"+e[a].participants[1].firstName+" "+e[a].participants[1].lastName+"</div>",t+="<div class='upcoming-conversations-list--desktop__title-cell-detail__title'>"+e[a].title+"</div>",t+="</div>",t+="</div>",t+="</div>",t+="</td>",t+="<td class='lastMod checkItemColDate'><div class='month'>"+new Date(e[a].lastModifiedDate).toLocaleDateString("en-GB",{month:"short"}).split(" ")+"</div><div class='day'>"+new Date(e[a].lastModifiedDate).toLocaleDateString("en-GB",{day:"numeric"}).split(" ")+"</div></td>",e[a].meetingsSummary.isNextMeetingCreated)t+="<td class='nextMeeting checkItemColDate'><div class='month'>"+new Date(e[a].meetingsSummary.nextMeetingDate).toLocaleDateString("en-GB",{month:"short"}).split(" ")+"</div><div class='day'>"+new Date(e[a].meetingsSummary.nextMeetingDate).toLocaleDateString("en-GB",{day:"numeric"}).split(" ")+"</div></td>";else t+="<td class='checkItemColDate'>-</td>";t+="</tr>"}t+="</table>"}else t="<div class='checkins nocontent'>",t+="<button type='button' id='createNewCheckInsBTN' class='getstarted_button' data-href='"+a[0].WIDGETS[n].getstartedurl+"'>"+a[0].WIDGETS[n].nocontenttitle[sessionStorage.csCulture]+"</button>",t+="</div>";return s.innerHTML=t,s})).catch((e=>{}))}function status(e){switch(e.status){case 202:return new Promise((t=>setTimeout((()=>t(e)),1200)));case 200:return Promise.resolve(e);case 204:return Promise.resolve(e)}}async function checkReportToken(){if(sessionStorage.reportToken){var e=sessionStorage.reportTokenDate;return Math.floor((Date.now()-e)/1e3/60)<10?sessionStorage.reportToken:await updateReportToken()}return await updateReportToken()}function updateReportToken(){return fetch("/Analytics/ReportBuilder/index.aspx",{method:"GET",headers:{"Content-Type":"text/html"}}).then((e=>e.text())).then((e=>(sessionStorage.reportToken=e.substring(e.indexOf("accessToken:")+14,e.indexOf("',",e.indexOf("accessToken"))),sessionStorage.csToken))).catch((e=>{}))}function fetchReport(e){var t={};return fetch("/reportarchitect/rctmetacore/metaapi/v1/report/"+e,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:sessionStorage.reportToken}}).then((function(e){if(!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).then((a=>{var n={filters:[],sorting:[]};return n.filters=[...a.filters],n.sorting=[...a.sorting],t=a,fetch("/reportarchitect/rctdatacore/metaapi/v1/report/"+e+"/rendered",{method:"POST",mode:"cors",cache:"default",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:sessionStorage.reportToken},body:JSON.stringify(n)})})).then(status).then((e=>e.json())).then((e=>fetch("/reportarchitect/rctdatacore/metaapi/v1"+e.location,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:sessionStorage.reportToken}}))).then(status).then((e=>e.json())).then((e=>[e,t])).catch((e=>{}))}async function createDashboard(e,t,a,n){return await checkReportToken().then((async function(){return await fetchReport(e)})).then((async function(e){let n=e[0],s=e[1],[,...i]=[...new Set(n.chartData.map((e=>e[0])))],[,...r]=[...new Set(n.chartData.map((e=>e[1])))];const l={labels:[...i],datasets:[]};let o="",d=[];if(1==s.charts[0].chartDimensions.length){let e=[];e=n.chartPalette.map((function(e){return e.color})),$.each(s.charts[0].chartDimensions,(function(e,t){$.each(n.chartData,(function(e,t){d=n.chartData.map((function(e,t){return e.slice(-1)[0]}))}))})),d.shift(),l.datasets.push({backgroundColor:e,hoverBackgroundColor:e,data:d,fill:!0}),o=!1}else{for(let e in r){d[r[e]]=[];for(let t in i){d[r[e]][t]=[];for(let a in n.chartData)i[t]==n.chartData[a][0]&&n.chartData[a][s.charts[0].chartDimensions.length-1]==r[e]&&(d[r[e]][t]=n.chartData[a][s.charts[0].chartDimensions.length])}let t=n.chartPalette.filter((function(t){return t.displayName===r[e]}));t.map((function(e){return e.color}));l.datasets.push({label:r[e],backgroundColor:t,data:d[r[e]],fill:!0,datalabels:{anchor:"end",align:"start"}})}o=!0}const c={type:cs_DashboardDetailsArray[s.charts[0].chartTypeId].type,data:l,options:{maintainAspectRatio:"true",responsive:"true",plugins:{legend:{display:o,position:"top"},title:{display:!1,text:s.charts[0].title}},scales:{y:{display:cs_DashboardDetailsArray[s.charts[0].chartTypeId].scale.ydisplay},x:{display:cs_DashboardDetailsArray[s.charts[0].chartTypeId].scale.xdisplay}}}};var u=document.createElement("canvas");u.setAttribute("style","height: 140px, width: 100%"),u.id=t+"_chart",document.body.appendChild(u);var m=document.getElementById(u.id);m.setAttribute("style","height: 140px, width: 100%");var p=m.getContext("2d");new Chart(p,c);return document.body.removeChild(u),m.width="200px",m.height="200px",a.appendChild(m),await a})).catch((e=>{}))}function lastinline(e){const t=String.fromCodePoint(128561),a=String.fromCodePoint(128293),n=String.fromCodePoint(128512),s=String.fromCodePoint(129304);var i=n+" "+t+" "+a+" "+t+" "+n+"\n";return i+="%cWe'll know for the first time.\n",i+="If we're evil or divine\n",i+="We're the last in line!\n",i+="--[ "+e+" ]--\n",i+="--[ "+gpeDEMOROLE+" ]--\n",i+=s+" "+a+" "+t+" "+a+" "+s}function setPreloader(e,t){switch(t){case"on":let t=document.createElement("span");t.className="inner-spinner";let a=document.createElement("span");a.className="loader";let n=document.createElement("div");n.setAttribute("id","preloader_div");let s=document.createElement("div");s.setAttribute("id","preloader"),a.appendChild(t),n.appendChild(a),s.appendChild(n),document.getElementById(e).appendChild(s);break;case"off":$("#"+e+" #preloader").hide(),$("#"+e+" .loader").hide();break;default:$(e).hide();break}}!async function(){setPreloader("USR-content","on"),await checkJWT().then((async function(e){const t=fetch("https://scfiles.csod.com/Baseline/Config/json/gpe_widgetConfig-min.json",{cache:"no-store"}).then((e=>e.json())),a=fetch("https://scfiles.csod.com/Baseline/Config/json/gpe_customLocale-min.json",{cache:"no-store"}).then((e=>e.json()));return await Promise.all([t,a])})).then((async function(e){let t=e[0],a=e[1];sessionStorage.setItem("csWidgetConfig",JSON.stringify(t)),sessionStorage.setItem("csCustomLocale",JSON.stringify(a));const n=buildNav(gpeDEMOROLE,sessionStorage.csCulture,gpeDEMMOMODULES),s=buildAboutCard(),i="ONB"===gpeDEMOROLE?buildOnbWidget(gpeDEMOROLE,sessionStorage.csCulture):"false",r="ONB"!==gpeDEMOROLE?buildModuleWidget(gpeDEMMOMODULES,gpeDEMOROLE):"false",l="ONB"!==gpeDEMOROLE?buildWidgets_v2(gpeDEMMOMODULES,gpeDEMOROLE):"false",o="ONB"!==gpeDEMOROLE?buildExtendedWidgets(gpeDEMOROLE):"false";return await Promise.all([n,s,i,r,l,o])})).then((async function(e){setPreloader("USR-content","off"),document.querySelector("a[id*='header_headerResponsive_responsiveNav_lnkLogout']").addEventListener("click",(function(e){sessionStorage.clear()})),$(".clickable-row").click((function(){window.location=$(this).data("href")})),$(".getstarted_button").click((function(){window.location=$(this).data("href")})),$(".approval_button").click((function(){window.location=$(this).data("href")})),$(".quicklinks_button").click((function(){window.location=$(this).data("href")}))})).then((async function(e){})).catch((e=>{}))}();